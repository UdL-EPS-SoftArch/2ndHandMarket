<section class="purchase">
  <!-- Error -->
  <div class="page-box" *ngIf="errorMessage">
    <h2>There was an error when processing your purchase</h2>
    <span>{{errorMessage}}</span>
    <a href="/">Go bak to the advertisement list</a>
  </div>

  <div *ngIf="!loading">
    <!-- Confirmation -->
    <div class="page-box" *ngIf="!errorMessage && !hasPurchased">
      <h1>Confirm your order</h1>
      <span>You are about to buy "{{advertisement.title}}"</span>
      <span>TOTAL: {{advertisement.price}}</span>
      <button (click)="submitPurchase()">Complete purchase</button>
    </div>

    <!-- Success -->
    <div class="page-box" *ngIf="!errorMessage && hasPurchased">
      <h1>Purchase completed!</h1>
      <span>You have bought "{{advertisement.title}}".</span>
      <span>You can check your purchases on your user panel.</span>
      <a href="/">Go back to the advertisement list</a>
    </div>
  </div>
</section>
